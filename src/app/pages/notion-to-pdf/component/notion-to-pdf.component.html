<div class="page-layout">
    <div class="menu">
        <div class="title">Converter Aventura de RPG para PDF</div>

        <!-- TODO: Checkbox para inclusão de sumário -->
        <!-- TODO: Campo para inclusão de logo -->
        <!-- TODO: Checkbox para definir se a aventura é oficial ou não -->

        <form [formGroup]="notionToPdfForm">
            <div class="flex flex-col">
                <mat-form-field appearance="outline" color="accent">
                    <mat-label>Autor</mat-label>
                    <input matInput [formControl]="autorFormControl" maxlength="50" />
                    <mat-error *ngIf="autorFormControl.hasError('required')"> Campo obrigatório </mat-error>
                    <mat-error *ngIf="!autorFormControl.hasError('required') && autorFormControl.hasError('minlength')"> Nome deve conter no mínimo 4 caracteres </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" color="accent">
                    <mat-label>Revisão</mat-label>
                    <input matInput [formControl]="revisaoFormControl" maxlength="50" />
                    <mat-error *ngIf="revisaoFormControl.hasError('required')"> Campo obrigatório </mat-error>
                    <mat-error *ngIf="!revisaoFormControl.hasError('required') && revisaoFormControl.hasError('minlength')"> Nome deve conter no mínimo 4 caracteres </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" color="accent">
                    <mat-label>Sistema</mat-label>
                    <input matInput [formControl]="sistemaFormControl" maxlength="50" />
                    <mat-error *ngIf="sistemaFormControl.hasError('required')"> Campo obrigatório </mat-error>
                    <mat-error *ngIf="!sistemaFormControl.hasError('required') && sistemaFormControl.hasError('minlength')"> Nome deve conter no mínimo 4 caracteres </mat-error>
                </mat-form-field>

                <!-- TODO: Corrigir estilo quando desabilitado -->
                <button mat-stroked-button color="primary" (click)="gerarPdfAventura()" [disabled]="notionToPdfForm.invalid || (loading$ | async)">
                    Gerar Arquivo da Aventura
                </button>
            </div>
        </form>
    </div>
</div>
